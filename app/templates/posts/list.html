{% extends 'base.html' %}
{% block title %}Posts{% endblock %}

{% block content %}
<div class="page-header flex-between animate-in">
    <div>
        <h1 class="text-gradient">Posts</h1>
        <p>Company announcements and blog posts</p>
    </div>
    <a href="/posts/create" class="btn btn-primary" style="display:flex; align-items:center; gap:6px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        New Post
    </a>
</div>

{% for post in posts %}
<div class="card animate-in" style="animation-delay:{{ loop.index * 0.04 }}s;">
    <div class="card-header">
        <h3><a href="/posts/{{ post.id }}">{{ post.title }}</a></h3>
        <span class="text-muted" style="font-size:0.82rem;">{{ post.username }} &middot; {{ post.created_at }}</span>
    </div>
    <div class="card-body">
        <p style="color:var(--text-secondary); line-height:1.7;">{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
        <a href="/posts/{{ post.id }}" class="btn btn-sm mt-1" style="display:inline-flex; align-items:center; gap:5px;">Read more <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg></a>
    </div>
</div>
{% else %}
<div class="card animate-in">
    <div class="card-body" style="text-align:center; padding:48px 20px;">
        <div style="opacity:0.3; margin-bottom:12px;"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
        <p style="color:var(--text-muted);">No posts yet. <a href="/posts/create" style="color:var(--accent);">Create one!</a></p>
    </div>
</div>
{% endfor %}
{% endblock %}
