{% extends 'base.html' %}
{% block title %}CTF Secrets{% endblock %}

{% block content %}
<style>
.secrets-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 16px; margin-top: 16px; }
.secret-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--radius-lg); padding: 22px; transition: all 0.3s ease; position: relative; overflow: hidden; }
.secret-card:hover { border-color: rgba(210,153,34,0.4); box-shadow: 0 4px 24px rgba(0,0,0,0.2); }
.secret-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; }
.cat-headers .secret-card::before { background: linear-gradient(90deg, #f85149, #ff7b72); }
.cat-cookies .secret-card::before { background: linear-gradient(90deg, #d29922, #e3b341); }
.cat-source .secret-card::before { background: linear-gradient(90deg, #3fb950, #56d364); }
.cat-recon .secret-card::before { background: linear-gradient(90deg, #58a6ff, #79c0ff); }
.cat-api .secret-card::before { background: linear-gradient(90deg, #bc8cff, #d2a8ff); }
.cat-logic .secret-card::before { background: linear-gradient(90deg, #ff7b72, #ffa657); }
.secret-num { font-size: 2rem; font-weight: 800; color: rgba(255,255,255,0.05); position: absolute; top: 10px; right: 16px; }
.secret-category { font-size: 0.72rem; font-weight: 700; letter-spacing: 1.2px; text-transform: uppercase; margin-bottom: 8px; }
.cat-headers .secret-category { color: #f85149; }
.cat-cookies .secret-category { color: #d29922; }
.cat-source .secret-category { color: #3fb950; }
.cat-recon .secret-category { color: #58a6ff; }
.cat-api .secret-category { color: #bc8cff; }
.cat-logic .secret-category { color: #ff7b72; }
.secret-title { font-size: 1rem; font-weight: 600; color: var(--text-primary); margin-bottom: 8px; }
.secret-desc { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.65; }
.secret-difficulty { display: inline-flex; align-items: center; gap: 4px; font-size: 0.78rem; color: var(--text-muted); margin-top: 10px; }
.secret-difficulty .dot { width: 6px; height: 6px; border-radius: 50%; }
.diff-medium .dot { background: #d29922; }
.diff-hard .dot { background: #f85149; }
.diff-expert .dot { background: #bc8cff; }
.secret-hint { font-size: 0.8rem; color: var(--text-muted); margin-top: 8px; padding: 8px 12px; background: rgba(255,255,255,0.02); border-radius: 6px; border-left: 2px solid var(--border-color); font-style: italic; }
.category-header { font-size: 0.85rem; font-weight: 700; color: var(--text-muted); margin: 24px 0 8px; letter-spacing: 0.5px; text-transform: uppercase; display: flex; align-items: center; gap: 8px; }
.progress-ring { width: 80px; height: 80px; margin: 0 auto 12px; }
.stats-row { display: flex; gap: 16px; margin-bottom: 20px; }
.stat-card { flex: 1; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--radius); padding: 16px; text-align: center; }
.stat-value { font-size: 1.6rem; font-weight: 800; color: var(--text-primary); }
.stat-label { font-size: 0.78rem; color: var(--text-muted); margin-top: 2px; }
</style>

<div class="page-header animate-in">
    <h1 class="text-gradient">üîÆ CTF Secrets</h1>
    <p style="color:var(--text-muted);">10 elite secrets hidden deep within the system. These aren't your regular flags &mdash; they require real investigation.</p>
</div>

<div class="card mb-3 animate-in" style="animation-delay:0.03s;">
    <div class="card-body" style="padding:20px;">
        <div style="display:flex;align-items:center;gap:16px;">
            <div style="font-size:2.4rem;">üïµÔ∏è</div>
            <div>
                <h3 style="margin:0;font-size:1rem;color:var(--text-primary);">The Hidden Layer</h3>
                <p style="margin:4px 0 0;font-size:0.88rem;color:var(--text-secondary);line-height:1.5;">
                    Beyond the 183 challenge flags, there exists a secret layer. 10 hidden secrets scattered across
                    HTTP headers, cookies, source code, API responses, and application logic. Secrets use the format
                    <code style="color:var(--warning);">SECRET{...}</code> and are harder to find than regular flags.
                    Only the most thorough investigators will uncover them all.
                </p>
            </div>
        </div>
    </div>
</div>

<div class="stats-row animate-in" style="animation-delay:0.05s;">
    <div class="stat-card">
        <div class="stat-value" style="color:#f85149;">10</div>
        <div class="stat-label">Total Secrets</div>
    </div>
    <div class="stat-card">
        <div class="stat-value" style="color:#58a6ff;">6</div>
        <div class="stat-label">Categories</div>
    </div>
    <div class="stat-card">
        <div class="stat-value" style="color:#d29922;">Hard</div>
        <div class="stat-label">Avg. Difficulty</div>
    </div>
    <div class="stat-card">
        <div class="stat-value" style="color:#3fb950;">0%</div>
        <div class="stat-label">Found</div>
    </div>
</div>

<div class="category-header animate-in" style="animation-delay:0.07s;">
    <span style="color:#f85149;">‚óè</span> Headers (2 secrets)
</div>
<div class="secrets-grid">
    <div class="secret-card cat-headers animate-in" style="animation-delay:0.09s;">
        <div class="secret-num">#1</div>
        <div class="secret-category">HTTP Headers</div>
        <div class="secret-title">The Whispering Header</div>
        <div class="secret-desc">Some pages speak volumes in their response headers. Not all headers are standard ‚Äî some carry hidden messages visible only to those who inspect the full HTTP response.</div>
        <div class="secret-difficulty diff-medium"><span class="dot"></span><span class="dot"></span> Medium</div>
        <div class="secret-hint">"The dashboard has more to say than what meets the eye."</div>
    </div>
    <div class="secret-card cat-headers animate-in" style="animation-delay:0.11s;">
        <div class="secret-num">#4</div>
        <div class="secret-category">HTTP Headers</div>
        <div class="secret-title">The Internal Gate</div>
        <div class="secret-desc">A private API exists beyond v2. It speaks only to those who present the right credentials in an unusual way ‚Äî not through query params or body, but through the request itself.</div>
        <div class="secret-difficulty diff-hard"><span class="dot"></span><span class="dot"></span><span class="dot"></span> Hard</div>
        <div class="secret-hint">"Internal services have their own authentication protocol."</div>
    </div>
</div>

<div class="category-header animate-in" style="animation-delay:0.13s;">
    <span style="color:#d29922;">‚óè</span> Cookies (1 secret)
</div>
<div class="secrets-grid">
    <div class="secret-card cat-cookies animate-in" style="animation-delay:0.15s;">
        <div class="secret-num">#2</div>
        <div class="secret-category">Cookies</div>
        <div class="secret-title">The Cookie Jar</div>
        <div class="secret-desc">The application sets more cookies than you might expect. Some carry session data, others carry debug information. The encoding isn't meant to be secure ‚Äî it's meant to be convenient.</div>
        <div class="secret-difficulty diff-medium"><span class="dot"></span><span class="dot"></span> Medium</div>
        <div class="secret-hint">"Check your browser's cookie storage after visiting the dashboard."</div>
    </div>
</div>

<div class="category-header animate-in" style="animation-delay:0.17s;">
    <span style="color:#3fb950;">‚óè</span> Source Code (2 secrets)
</div>
<div class="secrets-grid">
    <div class="secret-card cat-source animate-in" style="animation-delay:0.19s;">
        <div class="secret-num">#3</div>
        <div class="secret-category">Source Code</div>
        <div class="secret-title">Between the Lines</div>
        <div class="secret-desc">Web pages are built from HTML. What the browser renders is only part of the story. The actual source carries metadata, comments, and hidden elements that never appear on screen.</div>
        <div class="secret-difficulty diff-medium"><span class="dot"></span><span class="dot"></span> Medium</div>
        <div class="secret-hint">"View Source is the pentester's first friend."</div>
    </div>
    <div class="secret-card cat-source animate-in" style="animation-delay:0.21s;">
        <div class="secret-num">#6</div>
        <div class="secret-category">Client-Side Code</div>
        <div class="secret-title">The Console Confessional</div>
        <div class="secret-desc">JavaScript runs in the browser. The developer console captures everything ‚Äî including messages that the application logs silently. Some developers leave debug statements in production code.</div>
        <div class="secret-difficulty diff-medium"><span class="dot"></span><span class="dot"></span> Medium</div>
        <div class="secret-hint">"Open DevTools. The console sometimes talks when nobody's listening."</div>
    </div>
</div>

<div class="category-header animate-in" style="animation-delay:0.23s;">
    <span style="color:#58a6ff;">‚óè</span> Recon (2 secrets)
</div>
<div class="secrets-grid">
    <div class="secret-card cat-recon animate-in" style="animation-delay:0.25s;">
        <div class="secret-num">#5</div>
        <div class="secret-category">Reconnaissance</div>
        <div class="secret-title">The Archives</div>
        <div class="secret-desc">Companies archive old data but rarely delete it completely. Somewhere in the internal infrastructure, there's a forgotten archive that still serves cached content from a previous era.</div>
        <div class="secret-difficulty diff-hard"><span class="dot"></span><span class="dot"></span><span class="dot"></span> Hard</div>
        <div class="secret-hint">"What was disallowed in robots.txt might still be accessible."</div>
    </div>
    <div class="secret-card cat-recon animate-in" style="animation-delay:0.27s;">
        <div class="secret-num">#9</div>
        <div class="secret-category">Network Analysis</div>
        <div class="secret-title">Follow the Breadcrumbs</div>
        <div class="secret-desc">Not every URL is a destination. Some are waypoints. When the server tells your browser to go somewhere else, and then somewhere else again ‚Äî the journey itself is the clue.</div>
        <div class="secret-difficulty diff-hard"><span class="dot"></span><span class="dot"></span><span class="dot"></span> Hard</div>
        <div class="secret-hint">"Redirect chains are usually followed automatically. Try tracing one manually."</div>
    </div>
</div>

<div class="category-header animate-in" style="animation-delay:0.29s;">
    <span style="color:#bc8cff;">‚óè</span> API (2 secrets)
</div>
<div class="secrets-grid">
    <div class="secret-card cat-api animate-in" style="animation-delay:0.31s;">
        <div class="secret-num">#8</div>
        <div class="secret-category">Error Analysis</div>
        <div class="secret-title">The Forbidden Truth</div>
        <div class="secret-desc">A 403 Forbidden response means you can't access the resource. But just because access is denied doesn't mean the error response itself is clean. Error messages often contain more than they should.</div>
        <div class="secret-difficulty diff-medium"><span class="dot"></span><span class="dot"></span> Medium</div>
        <div class="secret-hint">"Some API endpoints return detailed error objects. Read every field."</div>
    </div>
    <div class="secret-card cat-api animate-in" style="animation-delay:0.33s;">
        <div class="secret-num">#10</div>
        <div class="secret-category">API Exploration</div>
        <div class="secret-title">The Deep Dive</div>
        <div class="secret-desc">APIs return structured data ‚Äî often deeply nested. Most tools show the top level. The real treasures are buried several layers deep, in metadata objects that developers assumed nobody would inspect.</div>
        <div class="secret-difficulty diff-expert"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span> Expert</div>
        <div class="secret-hint">"Expand every node. Secrets hide where lazy eyes don't look."</div>
    </div>
</div>

<div class="category-header animate-in" style="animation-delay:0.35s;">
    <span style="color:#ff7b72;">‚óè</span> Logic (1 secret)
</div>
<div class="secrets-grid">
    <div class="secret-card cat-logic animate-in" style="animation-delay:0.37s;">
        <div class="secret-num">#7</div>
        <div class="secret-category">Application Logic</div>
        <div class="secret-title">Timing is Everything</div>
        <div class="secret-desc">Some information appears only under specific conditions ‚Äî certain times, specific parameters, particular states. The health check endpoint doesn't always say the same thing.</div>
        <div class="secret-difficulty diff-expert"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span> Expert</div>
        <div class="secret-hint">"Debug parameters sometimes unlock hidden responses."</div>
    </div>
</div>

<div class="card mt-3 animate-in" style="animation-delay:0.4s; border-color:rgba(16,185,129,0.2);">
    <div class="card-body" style="padding:20px;">
        <h3 style="margin:0 0 8px;font-size:0.95rem;color:var(--accent);">üí° A Note from Izaz and The PenTrix</h3>
        <p style="margin:0;font-size:0.88rem;color:var(--text-secondary);line-height:1.65;">
            These secrets test the skills that matter most in real-world penetration testing: thoroughness,
            patience, and attention to detail. Every secret represents a common way that sensitive data
            leaks in production environments. When you find them all, you'll have practiced the techniques
            that professional pentesters use daily. Good luck ‚Äî and when you're done, share your achievement! üèÜ
        </p>
    </div>
</div>

<a href="/challenges" class="btn mt-2 animate-in" style="display:inline-flex;align-items:center;gap:6px;animation-delay:0.42s;">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
    Back to Challenges
</a>
{% endblock %}
